# 抓取指导

为了填充`src\data`内的数据，需要从VIPRPG的祭典网站抓取内容。
需要抓取与填充的有`src\data\festivals.json`内的banner信息，和`src\data\works`内各个json的作品信息。
作品信息的具体存储格式参考`src\data\works\sample.json`。

为了辅助抓取和记录进度，`catch\festival-urls.json`内存储了各个祭典的URL，`catch\festival-scrape-status.md`内记录了抓取进度。

## 抓取步骤

0. 选中一个抓取进度未完成的祭典。
1. 使用python工具，获取祭典页面信息，并进行语义化分析。一般来说，banner信息位于祭典首页。
   - 部分祭典网站进入后会指向404页面。应对这种情况，可以使用web archive获取最新可用的历史页面（如<https://web.archive.org/web/20230223054157fw_/https://vipkohaku20102.web.fc2.com/index.html>）。
2. 在首页进入祭典作品列表，在这里能够获得大部分信息，可以构建works内json的基本骨架。
3. 对于每个作品，进入作品详情页，获取剩余信息，填充进JSON里。
4. 对于无法抓取的信息，可以留空，或者填入`unknown`。
5. 全部完成后，将进度标记为完成。
6. 运行`npm run validate:data`，确保数据格式正确。
7. 提交Pull Request。
